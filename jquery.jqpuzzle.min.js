function _935d49a4e6af870700fa2e6db908a1ffec848a24(){};(function(a){a.fn.jqPuzzle=function(h,g){var j={rows:4,cols:4,hole:16,shuffle:false,numbers:true,language:"en",control:{shufflePieces:true,confirmShuffle:true,toggleOriginal:true,toggleNumbers:true,counter:true,timer:true,pauseTimer:false},success:{fadeOriginal:true,callback:undefined,callbackTimeout:300},animation:{shuffleRounds:3,shuffleSpeed:800,slidingSpeed:200,fadeOriginalSpeed:600},style:{gridSize:2,overlap:true,backgroundOpacity:0.1}};var q={en:{shuffleLabel:"Shuffle",toggleOriginalLabel:"Original",toggleNumbersLabel:"Numbers",confirmShuffleMessage:"Do you really want to shuffle?",movesLabel:"moves",secondsLabel:"seconds"},fr:{shuffleLabel:"Mélanger",toggleOriginalLabel:"Original",toggleNumbersLabel:"Nombres",confirmShuffleMessage:"Veux-tu vraiment mélanger?",movesLabel:"mouvements",secondsLabel:"secondes"},de:{shuffleLabel:"Mischen",toggleOriginalLabel:"Original",toggleNumbersLabel:"Nummern",confirmShuffleMessage:"Willst du wirklich mischen?",movesLabel:"Züge",secondsLabel:"Sekunden"},pt:{shuffleLabel:"Embaralhar",toggleOriginalLabel:"Original",toggleNumbersLabel:"Numeros",confirmShuffleMessage:"Tem certeza que deseja reembralhar?",movesLabel:"movimentos",secondsLabel:"segundos"}};if(h&&!h.hole&&(h.rows||h.cols)){h.hole=(h.rows||j.rows)*(h.cols||j.cols)}h=a.extend(true,{},j,h);g=a.extend((q[h.language]||q[j.language]),g);var r=h.rows,m=h.cols,c=h.hole;var l=h.control,p=h.success,i=h.animation,d=h.style;if(r<3||r>9){r=j.rows}if(m<3||m>9){m=j.rows}if((c>(r*m))||(c<1)){c=r*m}c--;if(i.slidingSpeed<1){i.slidingSpeed=1}if(i.shuffleSpeed<1){i.shuffleSpeed=1}if(i.fadeOriginalSpeed<1){i.fadeOriginalSpeed=1}if(i.shuffleRounds<1){i.shuffleRounds=1}var n=function(u){for(var s=0;s<u.length;s++){var t=(s<c)?s:s+1;if(u.eq(s).attr("current")!=t){return false}}return true};var b=function(u){var v=1;for(var t=1;t<=(r*m-1);t++){for(var s=(t+1);s<=(r*m);s++){v*=((u[t-1]-u[s-1])/(t-s))}}return Math.round(v)==1};var f=function(t,s){return parseInt(t)*m+parseInt(s)};var k=function(s){return{row:(Math.floor(s/m)),col:(s%m)}};var e=function(s){var t=s.css("border-left-width");if(s.css("border-left-style")!="none"){switch(t){case"thin":return 2;case"medium":return 4;case"thick":return 6;default:return parseInt(t)||0}}return 0};var o=function(s,z){var u;var v;var t=0;var w;var x=function(){y(new Date().getTime());w=setTimeout(x,s)};var y=function(A){z(A-t-u)};this.start=function(){if(u){return false}u=new Date().getTime();x()};this.stop=function(){if(!u){return false}clearTimeout(w);var A=new Date().getTime();if(v){t+=A-v}y(A);u=v=undefined;t=0};this.pause=function(){if(!u||v){return false}clearTimeout(w);v=new Date().getTime()};this.resume=function(){if(!v){return false}t+=new Date().getTime()-v;v=undefined;x()}};return this.filter("img").each(function(){var y=a(this);var D=false;var s=0;var C=0;var A;var t=h.shuffle;var u;var x=c;var B=a("<div/>").addClass("jqp-piece");var E=a("<div/>").addClass("jqp-wrapper").append(B);var z=a("<div/>").attr("class",y.attr("class")||"").addClass("jqPuzzle").append(E);y.replaceWith(z);z.attr("id",y.attr("id")||"");var w={gui:{border:e(z),padding:{left:parseInt(z.css("padding-left"))||0,right:parseInt(z.css("padding-right"))||0,top:parseInt(z.css("padding-top"))||0,bottom:parseInt(z.css("padding-bottom"))||0}},wrapper:{border:e(E),padding:parseInt(E.css("padding-left"))||0},piece:{border:e(B)}};z.removeAttr("id");z.replaceWith(y);y.one("load",function(){var au=(d.gridSize===0&&d.overlap);var ak=m*(2*w.piece.border)+(m-1)*d.gridSize;var aq=r*(2*w.piece.border)+(r-1)*d.gridSize;if(au){ak-=(m-1)*w.piece.border;aq-=(r-1)*w.piece.border}y.css({width:"auto",height:"auto",visibility:"visible"});var F=Math.floor((y.width()-ak)/m);var H=Math.floor((y.height()-aq)/r);if(F<30||H<30){return false}var S=m*F+ak;var M=r*H+aq;var ag=y.attr("src");var G=F+2*w.piece.border+d.gridSize;var V=H+2*w.piece.border+d.gridSize;var T={piece:a.boxModel?0:2*w.piece.border,wrapper:a.boxModel?0:2*(w.wrapper.border+w.wrapper.padding),gui:{width:a.boxModel?0:2*w.gui.border+w.gui.padding.left+w.gui.padding.right,height:a.boxModel?0:2*w.gui.border+w.gui.padding.top+w.gui.padding.bottom}};var O=function(ax,av){var aw={left:w.wrapper.padding+av*G,top:w.wrapper.padding+ax*V};if(au){aw.left-=av*w.piece.border;aw.top-=ax*w.piece.border}return aw};var ad=function(aF,av){if(av){if(K.is(".jqp-disabled")){return false}if(D){return false}if(l.confirmShuffle&&(s>0)&&!window.confirm(g.confirmShuffleMessage)){return false}D=true;if(A){Y.removeClass("jqp-solved");W.fadeTo(i.fadeOriginalSpeed,d.backgroundOpacity,function(){W.remove().prependTo(L);Q.removeClass("jqp-disabled")})}}if(u){u.stop()}A=false;t=true;s=0;C=0;if(N){N.removeClass("jqp-disabled")}if(am){am.val(s)}if(J){J.val(C)}var az=[];var aA=0;while(aA<aF){var aH=[];for(var ay=0;ay<r*m;ay++){aH[ay]=ay}aH.splice(c,1);az[aA]=[];for(var ay=0;ay<r*m;ay++){if(ay==c){az[aA][ay]=c;continue}var aD=Math.floor(Math.random()*aH.length);az[aA][ay]=aH[aD];aH.splice(aD,1)}if(((aA+1)<aF)||b(az[aA])){aA++}}var aB=0;for(var aA=0;aA<aF;aA++){var aE=((aA+1)==aF);for(var ay=0;ay<az[aA].length;ay++){if(ay==c){if(aE){x=c}continue}var aw=az[aA][ay];if(aw>c){aw-=1}var aG=at.eq(aw);var aC=k(ay);var ax=O(aC.row,aC.col);if(aE){aG.attr("current",ay.toString())}if(av===undefined){aG.css({left:ax.left,top:ax.top})}else{aG.animate({left:ax.left,top:ax.top},av,null,function(){aB++;if(aB==i.shuffleRounds*(r*m-1)){D=false;aB=0}})}}}};var L=a("<div/>").addClass("jqp-wrapper").css({width:S+T.wrapper,height:M+T.wrapper,borderWidth:w.wrapper.border,padding:w.wrapper.padding,margin:0,position:"relative",overflow:"hidden",display:"block",visibility:"inherit"});var ar=a("<div/>").addClass("jqp-piece").css({width:F+T.piece,height:H+T.piece,backgroundImage:"url("+ag+")",borderWidth:w.piece.border,margin:0,padding:0,position:"absolute",overflow:"hidden",display:"block",visibility:"inherit",cursor:"default"}).append(a("<span/>"));var at=a([]);for(var an=0;an<r;an++){for(var al=0;al<m;al++){var Z=f(an,al);if(Z==c){continue}var ae=O(an,al);var R=-1*(al*G+w.piece.border);var P=-1*(an*V+w.piece.border);if(au){R+=al*w.piece.border;P+=an*w.piece.border}at=at.add(ar.clone().css({left:ae.left,top:ae.top,backgroundPosition:(R+"px "+P+"px")}).attr("current",String(Z)).appendTo(L).children().text(Z+1).end())}}if(h.shuffle){ad(1)}var W=a("<div/>").css({width:S,height:M,left:w.wrapper.padding,top:w.wrapper.padding,backgroundImage:"url("+ag+")",borderWidth:0,margin:0,padding:0,position:"absolute",opacity:d.backgroundOpacity}).prependTo(L);var aj=a("<div/>").addClass("jqp-controls").css({visibility:"inherit",display:"block",position:"static"});var K,ah,U;var X=a("<a/>").css("cursor","default");if(l.shufflePieces){K=X.clone().text(g.shuffleLabel).appendTo(aj)}if(l.toggleOriginal){ah=X.clone().text(g.toggleOriginalLabel).appendTo(aj)}if(l.toggleNumbers){U=X.clone().text(g.toggleNumbersLabel).appendTo(aj);if(h.numbers){U.addClass("jqp-toggle")}}var Q=aj.children();var N,am,J;if(l.counter||l.timer){N=a("<span/>").css("cursor","default").appendTo(aj);var af=a("<input/>").val(0).css({width:"5ex",cursor:"default"}).attr("readonly","readonly");if(l.counter){am=af.clone().appendTo(N).after(g.movesLabel+" ")}if(l.timer){J=af.clone().appendTo(N).after(g.secondsLabel)}if(!h.shuffle){N.addClass("jqp-disabled")}}var I=a("<a/>").text("jqPuzzle").attr("href","http://www.2meter3.de/jqPuzzle/").css({"float":"right",fontFamily:"Verdana, Arial, Helvetica, sans-serif",fontSize:"9px",lineHeight:"12px",textDecoration:"none",color:"#FFFFFF",backgroundColor:"#777777",backgroundImage:"none",borderBottom:"1px dotted #FFFFFF",padding:"1px 3px 2px",marginRight:w.wrapper.border,position:"static",display:"inline",visibility:"inherit"});var ao=a("<div/>").css({width:S+2*(w.wrapper.padding+w.wrapper.border),position:"absolute",display:"block",visibility:"inherit",margin:"0px",padding:"0px",backgroundColor:"transparent"}).append(I).append(aj);var Y=a("<div/>").attr("class",y.attr("class")||"").addClass("jqPuzzle").css({width:S+2*(w.wrapper.padding+w.wrapper.border)+T.gui.width,height:M+2*(w.wrapper.padding+w.wrapper.border)+T.gui.height,textAlign:"left",overflow:"hidden",display:"block"}).append(L).append(ao);y.replaceWith(Y);var ac=y.attr("id");if(ac){Y.attr("id",ac)}if(!h.numbers){at.children().hide()}if(N){N.children("input").val(0)}var ai=Y.height();var aa=ao.height();Y.height(Y.height()+ao.height());if(a.browser.msie){Y[0].onselectstart=function(){return false}}else{Y.mousedown(function(){return false})}Q.mousedown(function(){if(!a(this).is(".jqp-disabled")){a(this).addClass("jqp-down")}});Q.mouseout(function(){a(this).removeClass("jqp-down")});Q.mouseup(function(){a(this).removeClass("jqp-down")});at.click(function(){if(D){return false}if(A){return false}D=true;var av=a(this);var ay=av.attr("current");var ax=k(ay);var aw=k(x);if(Math.abs(ax.row-aw.row)+Math.abs(ax.col-aw.col)!=1){D=false;return false}var az=O(aw.row,aw.col);av.attr("current",String(x));x=ay;if(t){s++}if(am){am.val(s)}if(s==1){if(!u){u=new o(333,function(aA){C=Math.floor(aA/1000);if(J){J.val(C)}})}u.start()}av.animate({left:az.left,top:az.top},i.slidingSpeed,null,function(){if(t){A=n(at);if(A){if(u){u.stop()}t=false;Y.addClass("jqp-solved");window.setTimeout(ap,100)}else{D=false}}else{D=false}})});if(l.shufflePieces){K.click(function(){ad(i.shuffleRounds,i.shuffleSpeed)})}if(l.toggleOriginal){ah.click(function(){if(ah.is(".jqp-disabled")){return false}if(D){return false}D=true;if(ah.is(".jqp-toggle")){if(l.shufflePieces){K.removeClass("jqp-disabled")}if(l.toggleNumbers){U.removeClass("jqp-disabled")}ah.removeClass("jqp-toggle");W.fadeTo(i.fadeOriginalSpeed,d.backgroundOpacity,function(){a(this).prependTo(L);if(l.pauseTimer&&u){u.resume()}D=false})}else{if(l.shufflePieces){K.addClass("jqp-disabled")}if(l.toggleNumbers){U.addClass("jqp-disabled")}ah.addClass("jqp-toggle");if(l.pauseTimer&&u){u.pause()}W.appendTo(L).fadeTo(i.fadeOriginalSpeed,1,function(){D=false})}return false})}if(l.toggleNumbers){U.click(function(){if(U.is(".jqp-disabled")){return false}if(U.is(".jqp-toggle")){U.removeClass("jqp-toggle");at.children().hide()}else{U.addClass("jqp-toggle");at.children().show()}})}var ap=function(){if(p.fadeOriginal){if(l.toggleOriginal){ah.addClass("jqp-disabled")}if(l.toggleNumbers){U.addClass("jqp-disabled")}W.appendTo(L).fadeTo(i.fadeOriginalSpeed,1,function(){D=false;ab()})}else{D=false;ab()}};var ab=function(){if(a.isFunction(p.callback)){setTimeout(function(){p.callback({moves:s,seconds:C})},p.callbackTimeout)}}});var v=setInterval(function(){if(y[0].complete){clearInterval(v);y.trigger("load")}},333)}).end()};a(document).ready(function(){a("img.jqPuzzle").each(function(){var d=/\bjqp(-[a-z]{2})?-r(\d)-c(\d)(-h(\d+))?(-s(\d+))?(-[A-Z]+)?\b/;var b=d.exec(this.className);var c;if(b){c={rows:parseInt(b[2]),cols:parseInt(b[3]),hole:parseInt(b[5])||null,shuffle:b[8]&&b[8].indexOf("S")!=-1,numbers:b[8]?b[8].indexOf("N")==-1:true,language:b[1]&&b[1].substring(1)};if(b[7]){c.animation={};c.animation.shuffleRounds=parseInt(b[7])}if(b[8]&&b[8].search(/[ABCDE]/)!=-1){c.control={};c.control.shufflePieces=b[8].indexOf("A")==-1;c.control.toggleOriginal=b[8].indexOf("B")==-1;c.control.toggleNumbers=b[8].indexOf("C")==-1;c.control.counter=b[8].indexOf("D")==-1;c.control.timer=b[8].indexOf("E")==-1}}a(this).jqPuzzle(c)})})})(jQuery);